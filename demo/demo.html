<!doctype html>
<html>
<head>
<meta charset="utf-8">
<link type="text/css" href="../css/base.css" rel="stylesheet" />
<link type="text/css" href="../css/bootstrap.css" rel="stylesheet" />
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/numChangeEffect.js"></script>
<title>数字递增，递减效果插件</title>
</head>
<body>
<div class="left-bar">
 <div class="title"><a href=""><span class="glyphicon glyphicon glyphicon-th-large"></span></a></div>
</div>
<div class="top-bar">
</div>
<div class="main" style="height:1000px;">
   <div class="center">
     <h2 class="num" id="num">130</h2>
     <div class="input">
        <input type="text" name="email" class="email" />
        <label class="label">用户名</label>
        <span class="line"></span>
     </div>
     <div class="input">
        <input type="password" name="password" class="email" />
        <label class="label">密码</label>
        <span class="line"></span>
     </div>
     <div class="random"></div>
     <div class="ssbtn"><button class="btns">随机数</button></div>
   </div>
</div>
<div class="right-bar">
  <div class="bar">
    <div class="dd">right</div>
  </div>
</div>
<script type="text/javascript">
$(function(){
	$(window).scroll(function(){
		if($(window).scrollTop()<=300){
		   $(".left-bar").animate({left:'-47px'},400,'linear');
		   $(".top-bar").animate({top:'0'},400,'linear');
	    }
		if($(window).scrollTop()>300){
		   $(".left-bar").animate({left:'0'},400,'linear');
		   $(".top-bar").animate({top:'-47px'},400,'linear');
		}
	});
	var num=[],nums;
	$(".btns").click(function(){
		nums=parseInt(Math.random()*100);
		num.push(nums);
		$(".random").append("<a class='nums'>"+nums+"</a>");
		for(var i=num.length;i>0;i--){
			if(i>1&&num[num.length-1]==num[i-2]){
				$(".random").find('a:last').remove();
				alert("有相同的随机数");
				num.splice(num.length-1,1);
			}
		}
		console.info(num);
	});
	var s=!0;
	$(".right-bar").mouseover(function(e){
		$(this).animate({"right":"0"},400);
		s=false;
	});
	$(".main").mouseover(function(e){
		if(s==false){
		  $(".right-bar").animate({"right":"-40px"},400);
		}
	});
	$(".email").focus(function(){
		$(this).siblings(".label").animate({top:'-18px',left:'-1px',fontSize:'12px'},300).css({'color':'#06F'});
		$(this).siblings(".line").animate({width:'200px'},300);
	});
	$(".email").blur(function(e) {
        if($(this).val()!=''){
			$(this).siblings(".label").animate({top:'-18px',left:'-1px',fontSize:'12px'},300);			
		}else{
			$(this).siblings(".label").animate({top:'4px',left:'5px',fontSize:'14px'},300).css({'color':'#ccc'});
			$(this).siblings(".line").animate({width:'0px'},300);
		}
    });
	var begin=parseInt($("#num").text());
    $("#num").numChangeEffect({from:begin,to:187,fixednum:2,speed: 1000});	
})   
</script>
</body>
</html>
